<!DOCTYPE html>

<html>
<head>
  <title>datepicker.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="app.html">
                app.js
              </a>
            
              
              <a class="source" href="add-performance.html">
                add-performance.js
              </a>
            
              
              <a class="source" href="edit-event.html">
                edit-event.js
              </a>
            
              
              <a class="source" href="edit-member.html">
                edit-member.js
              </a>
            
              
              <a class="source" href="edit-performance.html">
                edit-performance.js
              </a>
            
              
              <a class="source" href="edit-person.html">
                edit-person.js
              </a>
            
              
              <a class="source" href="event.html">
                event.js
              </a>
            
              
              <a class="source" href="events.html">
                events.js
              </a>
            
              
              <a class="source" href="header.html">
                header.js
              </a>
            
              
              <a class="source" href="login.html">
                login.js
              </a>
            
              
              <a class="source" href="main.html">
                main.js
              </a>
            
              
              <a class="source" href="members.html">
                members.js
              </a>
            
              
              <a class="source" href="performance.html">
                performance.js
              </a>
            
              
              <a class="source" href="speakers.html">
                speakers.js
              </a>
            
              
              <a class="source" href="sponsors.html">
                sponsors.js
              </a>
            
              
              <a class="source" href="calendar.html">
                calendar.js
              </a>
            
              
              <a class="source" href="twitter-ipp.html">
                twitter-ipp.js
              </a>
            
              
              <a class="source" href="services.html">
                services.js
              </a>
            
              
              <a class="source" href="angular-locale_fr-fr.html">
                angular-locale_fr-fr.js
              </a>
            
              
              <a class="source" href="datepicker.html">
                datepicker.js
              </a>
            
              
              <a class="source" href="ui-events.html">
                ui-events.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>datepicker.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/* =========================================================
 * bootstrap-datepicker.js 
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */</span>
 
!<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( $ )</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Picker object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	
	<span class="hljs-keyword">var</span> Datepicker = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, options)</span>{</span>
		<span class="hljs-keyword">this</span>.element = $(element);
		<span class="hljs-keyword">this</span>.format = DPGlobal.parseFormat(options.format||<span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date-format'</span>)||<span class="hljs-string">'mm/dd/yyyy'</span>);
		<span class="hljs-keyword">this</span>.picker = $(DPGlobal.template)
							.appendTo(<span class="hljs-string">'body'</span>)
							.on({
								click: $.proxy(<span class="hljs-keyword">this</span>.click, <span class="hljs-keyword">this</span>)<span class="hljs-comment">//,</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>mousedown: $.proxy(this.mousedown, this)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>							});
		<span class="hljs-keyword">this</span>.isInput = <span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">'input'</span>);
		<span class="hljs-keyword">this</span>.component = <span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">'.date'</span>) ? <span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">'.add-on'</span>) : <span class="hljs-literal">false</span>;
		
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isInput) {
			<span class="hljs-keyword">this</span>.element.on({
				focus: $.proxy(<span class="hljs-keyword">this</span>.show, <span class="hljs-keyword">this</span>),</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>blur: $.proxy(this.hide, this),</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				keyup: $.proxy(<span class="hljs-keyword">this</span>.update, <span class="hljs-keyword">this</span>)
			});
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.component){
				<span class="hljs-keyword">this</span>.component.on(<span class="hljs-string">'click'</span>, $.proxy(<span class="hljs-keyword">this</span>.show, <span class="hljs-keyword">this</span>));
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.element.on(<span class="hljs-string">'click'</span>, $.proxy(<span class="hljs-keyword">this</span>.show, <span class="hljs-keyword">this</span>));
			}
		}
	
		<span class="hljs-keyword">this</span>.minViewMode = options.minViewMode||<span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date-minviewmode'</span>)||<span class="hljs-number">0</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.minViewMode === <span class="hljs-string">'string'</span>) {
			<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.minViewMode) {
				<span class="hljs-keyword">case</span> <span class="hljs-string">'months'</span>:
					<span class="hljs-keyword">this</span>.minViewMode = <span class="hljs-number">1</span>;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-string">'years'</span>:
					<span class="hljs-keyword">this</span>.minViewMode = <span class="hljs-number">2</span>;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">default</span>:
					<span class="hljs-keyword">this</span>.minViewMode = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">break</span>;
			}
		}
		<span class="hljs-keyword">this</span>.viewMode = options.viewMode||<span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date-viewmode'</span>)||<span class="hljs-number">0</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.viewMode === <span class="hljs-string">'string'</span>) {
			<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.viewMode) {
				<span class="hljs-keyword">case</span> <span class="hljs-string">'months'</span>:
					<span class="hljs-keyword">this</span>.viewMode = <span class="hljs-number">1</span>;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-string">'years'</span>:
					<span class="hljs-keyword">this</span>.viewMode = <span class="hljs-number">2</span>;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">default</span>:
					<span class="hljs-keyword">this</span>.viewMode = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">break</span>;
			}
		}
		<span class="hljs-keyword">this</span>.startViewMode = <span class="hljs-keyword">this</span>.viewMode;
		<span class="hljs-keyword">this</span>.weekStart = options.weekStart||<span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date-weekstart'</span>)||<span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.weekEnd = <span class="hljs-keyword">this</span>.weekStart === <span class="hljs-number">0</span> ? <span class="hljs-number">6</span> : <span class="hljs-keyword">this</span>.weekStart - <span class="hljs-number">1</span>;
		<span class="hljs-keyword">this</span>.onRender = options.onRender;
		<span class="hljs-keyword">this</span>.fillDow();
		<span class="hljs-keyword">this</span>.fillMonths();
		<span class="hljs-keyword">this</span>.update();
		<span class="hljs-keyword">this</span>.showMode();
	};
	
	Datepicker.prototype = {
		constructor: Datepicker,
		
		show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {</span>
			<span class="hljs-keyword">this</span>.picker.show();
			<span class="hljs-keyword">this</span>.height = <span class="hljs-keyword">this</span>.component ? <span class="hljs-keyword">this</span>.component.outerHeight() : <span class="hljs-keyword">this</span>.element.outerHeight();
			<span class="hljs-keyword">this</span>.place();
			$(window).on(<span class="hljs-string">'resize'</span>, $.proxy(<span class="hljs-keyword">this</span>.place, <span class="hljs-keyword">this</span>));
			<span class="hljs-keyword">if</span> (e ) {
				e.stopPropagation();
				e.preventDefault();
			}
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isInput) {
			}
			<span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
			$(document).on(<span class="hljs-string">'mousedown'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ev)</span>{</span>
				<span class="hljs-keyword">if</span> ($(ev.target).closest(<span class="hljs-string">'.datepicker'</span>).length == <span class="hljs-number">0</span>) {
					that.hide();
				}
			});
			<span class="hljs-keyword">this</span>.element.trigger({
				type: <span class="hljs-string">'show'</span>,
				date: <span class="hljs-keyword">this</span>.date
			});
		},
		
		hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
			<span class="hljs-keyword">this</span>.picker.hide();
			$(window).off(<span class="hljs-string">'resize'</span>, <span class="hljs-keyword">this</span>.place);
			<span class="hljs-keyword">this</span>.viewMode = <span class="hljs-keyword">this</span>.startViewMode;
			<span class="hljs-keyword">this</span>.showMode();
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isInput) {
				$(document).off(<span class="hljs-string">'mousedown'</span>, <span class="hljs-keyword">this</span>.hide);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>this.set();</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.element.trigger({
				type: <span class="hljs-string">'hide'</span>,
				date: <span class="hljs-keyword">this</span>.date
			});
		},
		
		set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">var</span> formated = DPGlobal.formatDate(<span class="hljs-keyword">this</span>.date, <span class="hljs-keyword">this</span>.format);
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isInput) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.component){
					<span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">'input'</span>).prop(<span class="hljs-string">'value'</span>, formated);
				}
				<span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date'</span>, formated);
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.element.prop(<span class="hljs-string">'value'</span>, formated);
			}
		},
		
		setValue: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newDate)</span> {</span>
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDate === <span class="hljs-string">'string'</span>) {
				<span class="hljs-keyword">this</span>.date = DPGlobal.parseDate(newDate, <span class="hljs-keyword">this</span>.format);
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(newDate);
			}
			<span class="hljs-keyword">this</span>.set();
			<span class="hljs-keyword">this</span>.viewDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.date.getFullYear(), <span class="hljs-keyword">this</span>.date.getMonth(), <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">this</span>.fill();
		},
		
		place: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
			<span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">this</span>.component ? <span class="hljs-keyword">this</span>.component.offset() : <span class="hljs-keyword">this</span>.element.offset();
			<span class="hljs-keyword">this</span>.picker.css({
				top: offset.top + <span class="hljs-keyword">this</span>.height,
				left: offset.left
			});
		},
		
		update: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newDate)</span>{</span>
			<span class="hljs-keyword">this</span>.date = DPGlobal.parseDate(
				<span class="hljs-keyword">typeof</span> newDate === <span class="hljs-string">'string'</span> ? newDate : (<span class="hljs-keyword">this</span>.isInput ? <span class="hljs-keyword">this</span>.element.prop(<span class="hljs-string">'value'</span>) : <span class="hljs-keyword">this</span>.element.data(<span class="hljs-string">'date'</span>)),
				<span class="hljs-keyword">this</span>.format
			);
			<span class="hljs-keyword">this</span>.viewDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.date.getFullYear(), <span class="hljs-keyword">this</span>.date.getMonth(), <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">this</span>.fill();
		},
		
		fillDow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
			<span class="hljs-keyword">var</span> dowCnt = <span class="hljs-keyword">this</span>.weekStart;
			<span class="hljs-keyword">var</span> html = <span class="hljs-string">'&lt;tr&gt;'</span>;
			<span class="hljs-keyword">while</span> (dowCnt &lt; <span class="hljs-keyword">this</span>.weekStart + <span class="hljs-number">7</span>) {
				html += <span class="hljs-string">'&lt;th class="dow"&gt;'</span>+DPGlobal.dates.daysMin[(dowCnt++)%<span class="hljs-number">7</span>]+<span class="hljs-string">'&lt;/th&gt;'</span>;
			}
			html += <span class="hljs-string">'&lt;/tr&gt;'</span>;
			<span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-days thead'</span>).append(html);
		},
		
		fillMonths: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
			<span class="hljs-keyword">var</span> html = <span class="hljs-string">''</span>;
			<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
			<span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">12</span>) {
				html += <span class="hljs-string">'&lt;span class="month"&gt;'</span>+DPGlobal.dates.monthsShort[i++]+<span class="hljs-string">'&lt;/span&gt;'</span>;
			}
			<span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-months td'</span>).append(html);
		},
		
		fill: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.viewDate),
				year = d.getFullYear(),
				month = d.getMonth(),
				currentDate = <span class="hljs-keyword">this</span>.date.valueOf();
			<span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-days th:eq(1)'</span>)
						.text(DPGlobal.dates.months[month]+<span class="hljs-string">' '</span>+year);
			<span class="hljs-keyword">var</span> prevMonth = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month-<span class="hljs-number">1</span>, <span class="hljs-number">28</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),
				day = DPGlobal.getDaysInMonth(prevMonth.getFullYear(), prevMonth.getMonth());
			prevMonth.setDate(day);
			prevMonth.setDate(day - (prevMonth.getDay() - <span class="hljs-keyword">this</span>.weekStart + <span class="hljs-number">7</span>)%<span class="hljs-number">7</span>);
			<span class="hljs-keyword">var</span> nextMonth = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(prevMonth);
			nextMonth.setDate(nextMonth.getDate() + <span class="hljs-number">42</span>);
			nextMonth = nextMonth.valueOf();
			<span class="hljs-keyword">var</span> html = [];
			<span class="hljs-keyword">var</span> clsName,
				prevY,
				prevM;
			<span class="hljs-keyword">while</span>(prevMonth.valueOf() &lt; nextMonth) {
				<span class="hljs-keyword">if</span> (prevMonth.getDay() === <span class="hljs-keyword">this</span>.weekStart) {
					html.push(<span class="hljs-string">'&lt;tr&gt;'</span>);
				}
				clsName = <span class="hljs-keyword">this</span>.onRender(prevMonth);
				prevY = prevMonth.getFullYear();
				prevM = prevMonth.getMonth();
				<span class="hljs-keyword">if</span> ((prevM &lt; month &amp;&amp;  prevY === year) ||  prevY &lt; year) {
					clsName += <span class="hljs-string">' old'</span>;
				} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((prevM &gt; month &amp;&amp; prevY === year) || prevY &gt; year) {
					clsName += <span class="hljs-string">' new'</span>;
				}
				<span class="hljs-keyword">if</span> (prevMonth.valueOf() === currentDate) {
					clsName += <span class="hljs-string">' active'</span>;
				}
				html.push(<span class="hljs-string">'&lt;td class="day '</span>+clsName+<span class="hljs-string">'"&gt;'</span>+prevMonth.getDate() + <span class="hljs-string">'&lt;/td&gt;'</span>);
				<span class="hljs-keyword">if</span> (prevMonth.getDay() === <span class="hljs-keyword">this</span>.weekEnd) {
					html.push(<span class="hljs-string">'&lt;/tr&gt;'</span>);
				}
				prevMonth.setDate(prevMonth.getDate()+<span class="hljs-number">1</span>);
			}
			<span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-days tbody'</span>).empty().append(html.join(<span class="hljs-string">''</span>));
			<span class="hljs-keyword">var</span> currentYear = <span class="hljs-keyword">this</span>.date.getFullYear();
			
			<span class="hljs-keyword">var</span> months = <span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-months'</span>)
						.find(<span class="hljs-string">'th:eq(1)'</span>)
							.text(year)
							.end()
						.find(<span class="hljs-string">'span'</span>).removeClass(<span class="hljs-string">'active'</span>);
			<span class="hljs-keyword">if</span> (currentYear === year) {
				months.eq(<span class="hljs-keyword">this</span>.date.getMonth()).addClass(<span class="hljs-string">'active'</span>);
			}
			
			html = <span class="hljs-string">''</span>;
			year = <span class="hljs-built_in">parseInt</span>(year/<span class="hljs-number">10</span>, <span class="hljs-number">10</span>) * <span class="hljs-number">10</span>;
			<span class="hljs-keyword">var</span> yearCont = <span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'.datepicker-years'</span>)
								.find(<span class="hljs-string">'th:eq(1)'</span>)
									.text(year + <span class="hljs-string">'-'</span> + (year + <span class="hljs-number">9</span>))
									.end()
								.find(<span class="hljs-string">'td'</span>);
			year -= <span class="hljs-number">1</span>;
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = -<span class="hljs-number">1</span>; i &lt; <span class="hljs-number">11</span>; i++) {
				html += <span class="hljs-string">'&lt;span class="year'</span>+(i === -<span class="hljs-number">1</span> || i === <span class="hljs-number">10</span> ? <span class="hljs-string">' old'</span> : <span class="hljs-string">''</span>)+(currentYear === year ? <span class="hljs-string">' active'</span> : <span class="hljs-string">''</span>)+<span class="hljs-string">'"&gt;'</span>+year+<span class="hljs-string">'&lt;/span&gt;'</span>;
				year += <span class="hljs-number">1</span>;
			}
			yearCont.html(html);
		},
		
		click: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {</span>
			e.stopPropagation();
			e.preventDefault();
			<span class="hljs-keyword">var</span> target = $(e.target).closest(<span class="hljs-string">'span, td, th'</span>);
			<span class="hljs-keyword">if</span> (target.length === <span class="hljs-number">1</span>) {
				<span class="hljs-keyword">switch</span>(target[<span class="hljs-number">0</span>].nodeName.toLowerCase()) {
					<span class="hljs-keyword">case</span> <span class="hljs-string">'th'</span>:
						<span class="hljs-keyword">switch</span>(target[<span class="hljs-number">0</span>].className) {
							<span class="hljs-keyword">case</span> <span class="hljs-string">'switch'</span>:
								<span class="hljs-keyword">this</span>.showMode(<span class="hljs-number">1</span>);
								<span class="hljs-keyword">break</span>;
							<span class="hljs-keyword">case</span> <span class="hljs-string">'prev'</span>:
							<span class="hljs-keyword">case</span> <span class="hljs-string">'next'</span>:
								<span class="hljs-keyword">this</span>.viewDate[<span class="hljs-string">'set'</span>+DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].navFnc].call(
									<span class="hljs-keyword">this</span>.viewDate,
									<span class="hljs-keyword">this</span>.viewDate[<span class="hljs-string">'get'</span>+DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].navFnc].call(<span class="hljs-keyword">this</span>.viewDate) + 
									DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].navStep * (target[<span class="hljs-number">0</span>].className === <span class="hljs-string">'prev'</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>)
								);
								<span class="hljs-keyword">this</span>.fill();
								<span class="hljs-keyword">this</span>.set();
								<span class="hljs-keyword">break</span>;
						}
						<span class="hljs-keyword">break</span>;
					<span class="hljs-keyword">case</span> <span class="hljs-string">'span'</span>:
						<span class="hljs-keyword">if</span> (target.is(<span class="hljs-string">'.month'</span>)) {
							<span class="hljs-keyword">var</span> month = target.parent().find(<span class="hljs-string">'span'</span>).index(target);
							<span class="hljs-keyword">this</span>.viewDate.setMonth(month);
						} <span class="hljs-keyword">else</span> {
							<span class="hljs-keyword">var</span> year = <span class="hljs-built_in">parseInt</span>(target.text(), <span class="hljs-number">10</span>)||<span class="hljs-number">0</span>;
							<span class="hljs-keyword">this</span>.viewDate.setFullYear(year);
						}
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.viewMode !== <span class="hljs-number">0</span>) {
							<span class="hljs-keyword">this</span>.date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.viewDate);
							<span class="hljs-keyword">this</span>.element.trigger({
								type: <span class="hljs-string">'changeDate'</span>,
								date: <span class="hljs-keyword">this</span>.date,
								viewMode: DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].clsName
							});
						}
						<span class="hljs-keyword">this</span>.showMode(-<span class="hljs-number">1</span>);
						<span class="hljs-keyword">this</span>.fill();
						<span class="hljs-keyword">this</span>.set();
						<span class="hljs-keyword">break</span>;
					<span class="hljs-keyword">case</span> <span class="hljs-string">'td'</span>:
						<span class="hljs-keyword">if</span> (target.is(<span class="hljs-string">'.day'</span>) &amp;&amp; !target.is(<span class="hljs-string">'.disabled'</span>)){
							<span class="hljs-keyword">var</span> day = <span class="hljs-built_in">parseInt</span>(target.text(), <span class="hljs-number">10</span>)||<span class="hljs-number">1</span>;
							<span class="hljs-keyword">var</span> month = <span class="hljs-keyword">this</span>.viewDate.getMonth();
							<span class="hljs-keyword">if</span> (target.is(<span class="hljs-string">'.old'</span>)) {
								month -= <span class="hljs-number">1</span>;
							} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (target.is(<span class="hljs-string">'.new'</span>)) {
								month += <span class="hljs-number">1</span>;
							}
							<span class="hljs-keyword">var</span> year = <span class="hljs-keyword">this</span>.viewDate.getFullYear();
							<span class="hljs-keyword">this</span>.date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month, day,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);
							<span class="hljs-keyword">this</span>.viewDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month, <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">28</span>, day),<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);
							<span class="hljs-keyword">this</span>.fill();
							<span class="hljs-keyword">this</span>.set();
							<span class="hljs-keyword">this</span>.element.trigger({
								type: <span class="hljs-string">'changeDate'</span>,
								date: <span class="hljs-keyword">this</span>.date,
								viewMode: DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].clsName
							});
						}
						<span class="hljs-keyword">break</span>;
				}
			}
		},
		
		mousedown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
			e.stopPropagation();
			e.preventDefault();
		},
		
		showMode: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(dir)</span> {</span>
			<span class="hljs-keyword">if</span> (dir) {
				<span class="hljs-keyword">this</span>.viewMode = <span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.minViewMode, <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">2</span>, <span class="hljs-keyword">this</span>.viewMode + dir));
			}
			<span class="hljs-keyword">this</span>.picker.find(<span class="hljs-string">'&gt;div'</span>).hide().filter(<span class="hljs-string">'.datepicker-'</span>+DPGlobal.modes[<span class="hljs-keyword">this</span>.viewMode].clsName).show();
		}
	};
	
	$.fn.datepicker = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">( option, val )</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">var</span> $<span class="hljs-keyword">this</span> = $(<span class="hljs-keyword">this</span>),
				data = $<span class="hljs-keyword">this</span>.data(<span class="hljs-string">'datepicker'</span>),
				options = <span class="hljs-keyword">typeof</span> option === <span class="hljs-string">'object'</span> &amp;&amp; option;
			<span class="hljs-keyword">if</span> (!data) {
				$<span class="hljs-keyword">this</span>.data(<span class="hljs-string">'datepicker'</span>, (data = <span class="hljs-keyword">new</span> Datepicker(<span class="hljs-keyword">this</span>, $.extend({}, $.fn.datepicker.defaults,options))));
			}
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> option === <span class="hljs-string">'string'</span>) data[option](val);
		});
	};

	$.fn.datepicker.defaults = {
		onRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(date)</span> {</span>
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}
	};
	$.fn.datepicker.Constructor = Datepicker;
	
	<span class="hljs-keyword">var</span> DPGlobal = {
		modes: [
			{
				clsName: <span class="hljs-string">'days'</span>,
				navFnc: <span class="hljs-string">'Month'</span>,
				navStep: <span class="hljs-number">1</span>
			},
			{
				clsName: <span class="hljs-string">'months'</span>,
				navFnc: <span class="hljs-string">'FullYear'</span>,
				navStep: <span class="hljs-number">1</span>
			},
			{
				clsName: <span class="hljs-string">'years'</span>,
				navFnc: <span class="hljs-string">'FullYear'</span>,
				navStep: <span class="hljs-number">10</span>
		}],
		dates:{
			days: [<span class="hljs-string">"Sunday"</span>, <span class="hljs-string">"Monday"</span>, <span class="hljs-string">"Tuesday"</span>, <span class="hljs-string">"Wednesday"</span>, <span class="hljs-string">"Thursday"</span>, <span class="hljs-string">"Friday"</span>, <span class="hljs-string">"Saturday"</span>, <span class="hljs-string">"Sunday"</span>],
			daysShort: [<span class="hljs-string">"Sun"</span>, <span class="hljs-string">"Mon"</span>, <span class="hljs-string">"Tue"</span>, <span class="hljs-string">"Wed"</span>, <span class="hljs-string">"Thu"</span>, <span class="hljs-string">"Fri"</span>, <span class="hljs-string">"Sat"</span>, <span class="hljs-string">"Sun"</span>],
			daysMin: [<span class="hljs-string">"Su"</span>, <span class="hljs-string">"Mo"</span>, <span class="hljs-string">"Tu"</span>, <span class="hljs-string">"We"</span>, <span class="hljs-string">"Th"</span>, <span class="hljs-string">"Fr"</span>, <span class="hljs-string">"Sa"</span>, <span class="hljs-string">"Su"</span>],
			months: [<span class="hljs-string">"January"</span>, <span class="hljs-string">"February"</span>, <span class="hljs-string">"March"</span>, <span class="hljs-string">"April"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"June"</span>, <span class="hljs-string">"July"</span>, <span class="hljs-string">"August"</span>, <span class="hljs-string">"September"</span>, <span class="hljs-string">"October"</span>, <span class="hljs-string">"November"</span>, <span class="hljs-string">"December"</span>],
			monthsShort: [<span class="hljs-string">"Jan"</span>, <span class="hljs-string">"Feb"</span>, <span class="hljs-string">"Mar"</span>, <span class="hljs-string">"Apr"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"Jun"</span>, <span class="hljs-string">"Jul"</span>, <span class="hljs-string">"Aug"</span>, <span class="hljs-string">"Sep"</span>, <span class="hljs-string">"Oct"</span>, <span class="hljs-string">"Nov"</span>, <span class="hljs-string">"Dec"</span>]
		},
		isLeapYear: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(year)</span> {</span>
			<span class="hljs-keyword">return</span> (((year % <span class="hljs-number">4</span> === <span class="hljs-number">0</span>) &amp;&amp; (year % <span class="hljs-number">100</span> !== <span class="hljs-number">0</span>)) || (year % <span class="hljs-number">400</span> === <span class="hljs-number">0</span>))
		},
		getDaysInMonth: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(year, month)</span> {</span>
			<span class="hljs-keyword">return</span> [<span class="hljs-number">31</span>, (DPGlobal.isLeapYear(year) ? <span class="hljs-number">29</span> : <span class="hljs-number">28</span>), <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>][month]
		},
		parseFormat: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(format)</span>{</span>
			<span class="hljs-keyword">var</span> separator = format.match(<span class="hljs-regexp">/[.\/\-\s].*?/</span>),
				parts = format.split(<span class="hljs-regexp">/\W+/</span>);
			<span class="hljs-keyword">if</span> (!separator || !parts || parts.length === <span class="hljs-number">0</span>){
				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid date format."</span>);
			}
			<span class="hljs-keyword">return</span> {separator: separator, parts: parts};
		},
		parseDate: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(date, format)</span> {</span>
			<span class="hljs-keyword">var</span> parts = date.split(format.separator),
				date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),
				val;
			date.setHours(<span class="hljs-number">0</span>);
			date.setMinutes(<span class="hljs-number">0</span>);
			date.setSeconds(<span class="hljs-number">0</span>);
			date.setMilliseconds(<span class="hljs-number">0</span>);
			<span class="hljs-keyword">if</span> (parts.length === format.parts.length) {
				<span class="hljs-keyword">var</span> year = date.getFullYear(), day = date.getDate(), month = date.getMonth();
				<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>, cnt = format.parts.length; i &lt; cnt; i++) {
					val = <span class="hljs-built_in">parseInt</span>(parts[i], <span class="hljs-number">10</span>)||<span class="hljs-number">1</span>;
					<span class="hljs-keyword">switch</span>(format.parts[i]) {
						<span class="hljs-keyword">case</span> <span class="hljs-string">'dd'</span>:
						<span class="hljs-keyword">case</span> <span class="hljs-string">'d'</span>:
							day = val;
							date.setDate(val);
							<span class="hljs-keyword">break</span>;
						<span class="hljs-keyword">case</span> <span class="hljs-string">'mm'</span>:
						<span class="hljs-keyword">case</span> <span class="hljs-string">'m'</span>:
							month = val - <span class="hljs-number">1</span>;
							date.setMonth(val - <span class="hljs-number">1</span>);
							<span class="hljs-keyword">break</span>;
						<span class="hljs-keyword">case</span> <span class="hljs-string">'yy'</span>:
							year = <span class="hljs-number">2000</span> + val;
							date.setFullYear(<span class="hljs-number">2000</span> + val);
							<span class="hljs-keyword">break</span>;
						<span class="hljs-keyword">case</span> <span class="hljs-string">'yyyy'</span>:
							year = val;
							date.setFullYear(val);
							<span class="hljs-keyword">break</span>;
					}
				}
				date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month, day, <span class="hljs-number">0</span> ,<span class="hljs-number">0</span> ,<span class="hljs-number">0</span>);
			}
			<span class="hljs-keyword">return</span> date;
		},
		formatDate: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(date, format)</span>{</span>
			<span class="hljs-keyword">var</span> val = {
				d: date.getDate(),
				m: date.getMonth() + <span class="hljs-number">1</span>,
				yy: date.getFullYear().toString().substring(<span class="hljs-number">2</span>),
				yyyy: date.getFullYear()
			};
			val.dd = (val.d &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">'0'</span> : <span class="hljs-string">''</span>) + val.d;
			val.mm = (val.m &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">'0'</span> : <span class="hljs-string">''</span>) + val.m;
			<span class="hljs-keyword">var</span> date = [];
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>, cnt = format.parts.length; i &lt; cnt; i++) {
				date.push(val[format.parts[i]]);
			}
			<span class="hljs-keyword">return</span> date.join(format.separator);
		},
		headTemplate: <span class="hljs-string">'&lt;thead&gt;'</span>+
							<span class="hljs-string">'&lt;tr&gt;'</span>+
								<span class="hljs-string">'&lt;th class="prev"&gt;&amp;lsaquo;&lt;/th&gt;'</span>+
								<span class="hljs-string">'&lt;th colspan="5" class="switch"&gt;&lt;/th&gt;'</span>+
								<span class="hljs-string">'&lt;th class="next"&gt;&amp;rsaquo;&lt;/th&gt;'</span>+
							<span class="hljs-string">'&lt;/tr&gt;'</span>+
						<span class="hljs-string">'&lt;/thead&gt;'</span>,
		contTemplate: <span class="hljs-string">'&lt;tbody&gt;&lt;tr&gt;&lt;td colspan="7"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;'</span>
	};
	DPGlobal.template = <span class="hljs-string">'&lt;div class="datepicker dropdown-menu"&gt;'</span>+
							<span class="hljs-string">'&lt;div class="datepicker-days"&gt;'</span>+
								<span class="hljs-string">'&lt;table class=" table-condensed"&gt;'</span>+
									DPGlobal.headTemplate+
									<span class="hljs-string">'&lt;tbody&gt;&lt;/tbody&gt;'</span>+
								<span class="hljs-string">'&lt;/table&gt;'</span>+
							<span class="hljs-string">'&lt;/div&gt;'</span>+
							<span class="hljs-string">'&lt;div class="datepicker-months"&gt;'</span>+
								<span class="hljs-string">'&lt;table class="table-condensed"&gt;'</span>+
									DPGlobal.headTemplate+
									DPGlobal.contTemplate+
								<span class="hljs-string">'&lt;/table&gt;'</span>+
							<span class="hljs-string">'&lt;/div&gt;'</span>+
							<span class="hljs-string">'&lt;div class="datepicker-years"&gt;'</span>+
								<span class="hljs-string">'&lt;table class="table-condensed"&gt;'</span>+
									DPGlobal.headTemplate+
									DPGlobal.contTemplate+
								<span class="hljs-string">'&lt;/table&gt;'</span>+
							<span class="hljs-string">'&lt;/div&gt;'</span>+
						<span class="hljs-string">'&lt;/div&gt;'</span>;

}( window.jQuery );</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
